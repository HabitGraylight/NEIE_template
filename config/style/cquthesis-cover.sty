\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cquthesis-cover}[2023/10/01 重庆大学EIE封面模板]

% 基础依赖
\RequirePackage{graphicx} 
\RequirePackage{geometry}
\RequirePackage{fontspec}
\RequirePackage{xcolor}   
\RequirePackage{setspace}
% 参数配置接口
\newcommand{\setschoolbadge}[2][width=4cm]{
  \def\cquschoolbadge{\includegraphics[#1]{#2}}
}
\newcommand{\setuniversity}[1]{\def\cquniversity{#1}}
\newcommand{\setfaculty}[1]{\def\cqufaculty{#1}}

% 默认配置
\setschoolbadge{assets/images/CQU-logo.png} % 默认校徽路径
\setuniversity{重庆大学国家卓越工程师学院}
\setfaculty{XX大学XXXX学院} 

% 字体配置修复
\setmainfont{Times New Roman} % 英文字体
\setCJKmainfont{SimHei} % 中文字体，确保 SimHei 字体已安装

% 封面宏命令
\newcommand{\makecovercn}[8]{
  \begin{titlepage}
    \centering
    
    \vspace{2cm}
    {\bfseries\zihao{-2} 重庆大学本科学生毕业论文（设计）}

    % 论文题目
    \vspace{3cm}
    {\bfseries\zihao{2} #1}

    % 校徽部分（不知道多少距离。。）
    \vspace*{3cm}
    \includegraphics[width=4cm]{assets/images/CQU-logo.png} \\ % 确保路径正确
    
    % 信息表格（三号字1倍行距）
    \vspace{3cm}
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{@{}ll@{}}
      \bfseries\zihao{3}学\quad \quad 生： & \bfseries\zihao{3}#2 \\
      \bfseries\zihao{3}学\quad \quad 号： & \bfseries\zihao{3}#3 \\
      \bfseries\zihao{3}指导教师： & \bfseries\zihao{3}#4 \\
      \ifx#5\empty
      \else
      \bfseries\zihao{3}助理指导教师： & \bfseries\zihao{3}#5 \\
      \fi
      \bfseries\zihao{3}专\quad \quad 业： & \bfseries\zihao{3}#6 \\
    \end{tabular}
    
    % 学院信息（小二号底部定位）
    \vfill
    {\bfseries\zihao{-2} 重庆大学国家卓越工程师学院} \\
    \ifx#7\empty
    \else
    {\bfseries\zihao{-2} #7} \\
    \fi
    % 日期规范
    \vspace{1cm}
    %\colorbox{yellow}{\hspace*{2em}\zihao{3}\bfseries #8年6月\hspace*{2em}}
    \hspace*{2em}\zihao{3}\bfseries #8年6月\hspace*{2em}
  \end{titlepage}
}
\newcommand{\makecoveren}[8]{
  \begin{titlepage}
    \centering
    
    % 主标题（14pt Times New Roman加粗）
    {\bfseries\zihao{3} Undergraduate Thesis (Design) of Chongqing University}
    
    % 论文题目（18pt加粗）
    \vspace{2.5cm}
    {\bfseries\zihao{2} #1} \\
    % 校徽部分（垂直定位）
    \vspace*{2cm}
    \includegraphics[width=4cm]{assets/images/CQU-logo.png} \\[1cm]
    {\setstretch{2.0}
      % 作者信息（By + 换行）
      {\zihao{3} \textbf{By}} \\
      {\bfseries\zihao{3} #2} \\[0.5cm]
      
      % 导师信息（Supervised by + 换行）
      {\zihao{3} \textbf{Supervised by}} \\
      {\bfseries\zihao{3} #3 
      \ifx#4\empty
      \else
       \\ and \\ #4
       \fi} \\[1.5cm]
      
      
      % 专业信息（双专业换行）
      \begin{minipage}{0.8\textwidth}
        \centering
        {\bfseries\zihao{-2} 
        #5} \\
        \ifx#6\empty
        \else
        {\bfseries\zihao{-2} #6}
        \fi
      \end{minipage} \\[0.1cm]
      
      % 学院信息（小二号底部定位）
      \vfill
      {\bfseries\zihao{3} National Elite Institute of Engineering,Chongqing University} \\
      \ifx#7\empty
      \else
      {\bfseries\zihao{-2} #7} \\[0.5cm]
      \fi
      % 日期（右对齐）
      {\bfseries\zihao{4} June, #8}
    }
  \end{titlepage}
}



\endinput